#!/usr/bin/env bash


if [ -z "$1" ] || [ -z "$2" ]
  then
    echo "must supply two arguments: togif in.mp4 out.gif"
    exit 1
fi

VIDEO=$1
GIF=$2

mkdir .togif
ffmpeg -hide_banner -loglevel panic -i $VIDEO -vf fps=20 .togif/frame%04d.png
gifski -o $GIF .togif/frame*.png
rm -rf .togif